\begin{tikzpicture}[textstyle/.style={black, anchor= south west, align=center, minimum height=0.45cm, text centered, font=\scriptsize}]


  % adapt line thickness and line width, if needed
  \tikzstyle{vecArrow} = [thick, decoration={markings,mark=at position
     1 with {\arrow[semithick]{open triangle 60}}},
     double distance=1.4pt, shorten >= 5.5pt,
     preaction = {decorate},
     postaction = {draw,line width=1.4pt, white,shorten >= 4.5pt}]

  % C code
  \begin{scope}[yshift=0 cm,xshift=0 cm]
    \draw (0,0) -- (0.4, 0.4) -- (1.25,0.4) -- (1.25,0) -- cycle;
    \draw (0,0) -- (1.25,0) -- (1.25,-1.25) -- (0, -1.25) -- cycle;
    \draw (0.3,-0.05) node[textstyle] {code};
    \draw (0.675,-0.5) node[textstyle, anchor=center] {\texttt{Prog}};
    \draw (1.25,-1.25) node[textstyle, anchor = south east] {\color{doc@lstfunctions}{.C}};
  \end{scope}


  % V code
  \begin{scope}[yshift=0 cm,xshift=2.5 cm]
    \draw (0,0) -- (0.4, 0.4) -- (1.25,0.4) -- (1.25,0) -- cycle;
    \draw (0,0) -- (1.25,0) -- (1.25,-1.25) -- (0, -1.25) -- cycle;
    \draw (0.3,-0.05) node[textstyle] {code};
    \draw (0.675,-0.5) node[textstyle, anchor=center] {\texttt{Prog}};
    \draw (1.25,-1.25) node[textstyle, anchor = south east] {\color{doc@lstfunctions}{.V}};
    % \draw (1.25,0)  node[anchor=south east, inner sep=0pt] {\includegraphics[width=.0125\textwidth]{img/coq_logo.png}};
  \end{scope}

  % VST Theorem
  \begin{scope}[yshift=0 cm,xshift=6 cm]
    \draw (0,0) -- (0.4, 0.4) -- (2.5,0.4) -- (2.5,0) -- cycle;
    \draw (0,0) -- (2.5,0) -- (2.5,-1.25) -- (0, -1.25) -- cycle;
    \draw (0.3,-0.05) node[textstyle] {Proof};
    \draw (1.25,-0.5) node[textstyle, anchor=center] {\{{\color{doc@lstnumbers}\textbf{Pre}}\} \texttt{Prog} \{{\color{doc@lstdirective}\textbf{Post}}\}};
    \draw (2.5,-1.25) node[textstyle, anchor = south east] {\color{doc@lstfunctions}{\checkmark}};
  \end{scope}

  % VST Spec
  \begin{scope}[yshift=-2.5 cm,xshift=3 cm]
    \draw (0,0) -- (0.4, 0.4) -- (2,0.4) -- (2,0) -- cycle;
    \draw (0,0) -- (2,0) -- (2,-2) -- (0, -2) -- cycle;
    \draw (0.3,-0.05) node[textstyle] {Specification};
    \draw (1,-1) node[textstyle, anchor=center, align=left] {
      {\color{doc@lstnumbers}\textbf{Pre}}:\\
      ~~$n$, $P$\\
      {\color{doc@lstdirective}\textbf{Post}}:\\
      ~~\texttt{CSM}$(n,P)$};
  \end{scope}

  % Definition of CSM
  \begin{scope}[yshift=-4.5 cm,xshift=0 cm]
    \draw (0,0) -- (0.4, 0.4) -- (2,0.4) -- (2,0) -- cycle;
    \draw (0,0) -- (2,0) -- (2,-1) -- (0, -1) -- cycle;
    \draw (0.3,-0.05) node[textstyle] {Definition};
    \draw (1,-0.5) node[textstyle, anchor=center] {\texttt{CSM}};
  \end{scope}

  % Spec of Curve nP
  \begin{scope}[yshift=-7 cm,xshift=0 cm]
    \draw (0,0) -- (0.4, 0.4) -- (2,0.4) -- (2,0) -- cycle;
    \draw (0,0) -- (2,0) -- (2,-1) -- (0, -1) -- cycle;
    \draw (0.3,-0.05) node[textstyle] {Definition};
    \draw (1,-0.5) node[textstyle, anchor=center] {$n \cdot P$};
  \end{scope}

  % Correctness Theorem
  \begin{scope}[yshift=-6.5 cm,xshift=6 cm]
    \draw (0,0) -- (0.4, 0.4) -- (2.5,0.4) -- (2.5,0) -- cycle;
    \draw (0,0) -- (2.5,0) -- (2.5,-1.5) -- (0, -1.5) -- cycle;
    \draw (0.3,-0.05) node[textstyle] {Proof};
    \draw (2.5,-1.5) node[textstyle, anchor = south east] {\color{doc@lstfunctions}{\checkmark}};
    \draw (1.25,-0.75) node[textstyle, anchor=center] {{\color{doc@lstnumbers}\textbf{Pre}} $\implies$\\$\text{\texttt{CSM}}(n,P) = n \cdot P$};
  \end{scope}

  \path [thick, double, ->] (1.25,-0.5) edge (2.5, -0.5);
  \path [thick, double, ->] (3.75,-0.5) edge (6, -0.5);
  \path [thick, double, ->] (5,-3.5) edge [out=0, in=-90] (6.5, -1.25);
  \path [thick, double, ->] (2,-5) edge  [out=0, in=-180] (3, -3.5);
  \path [thick, double, ->] (2,-5) edge [out=0, in=-180] (6, -7);
  \path [thick, double, ->] (2,-7.5) edge [out=0, in=-180] (6, -7.5);

\end{tikzpicture}
